<head>
  <title>请输入密码</title>
  <script src="main.js"></script>
</head>
<body>
<script language="javascript">
  function getHashCode(str,caseSensitive){
    if(!caseSensitive){
        str = str.toLowerCase();
    }
    var hash  =   1315423911,i,ch;
    for (i = str.length - 1; i >= 0; i--) {
        ch = str.charCodeAt(i);
        hash ^= ((hash << 5) + ch + (hash >> 2));
    }
    return  (hash & 0x7FFFFFFF);
  }
  function password()
  {
    var sword;
    var logTimes;
  while(sword!="1713842097" && logTimes!=3)
    {
      sword=prompt("请输入密码登录");
      if (sword==null)
      {location.href='about:blank';}
      sword=getHashCode(sword);
      console.log("input password hash: " + sword);
      if (sword!="1713842097")
      {alert("密码错误");}
      logTimes++;
      console.log("Try times: " + logTimes);
    }
    if (logTimes>=3)
    {alert("超过错误次数，登录失败");location.href='about:blank';}
    alert("登录成功");
    document.title = '康桥八卦论坛';
  }
  password();
</script>
<div align="center"><h1>康桥八卦论坛</h1></div>
<input type="text"></input>
<input type="submit"></input>
</body>
